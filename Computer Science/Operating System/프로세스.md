## 프로세스



### 프로그램과 프로세스

- 프로그램: 실행 코드 덩이
- 프로세스: 실행중인 프로그램. 테스크라고도 불린다.
- 프로그램을 실행시키면 운영체제가 적당한 메모리위치에 프로그램을 이동시키고 PCB를 할당한다.

### 프로세스 상태

- 생성 상태: 프로그램을 메모리에 가져오고 PCB를 할당하여 실행 준비가 완료된 상태
- 준비 상태: 실행을 기다리는 모든 프로세스가 자기 차례를 기다리를 상태. 실행될 프로세스를 cpu scheduler가 선택한다.
- 실행 상태: 준비상태에 있는 프로세스가 CPU를 얻어 실제 작업을 수행하는 상태. 프로세스 사이의 문맥교환이 일어난다.
- 완료 상태: 실행 상태의 프로세스가 작업을 마치고 종료된 상태
- 디스패치: CPU scheduler에 의해서 프로세스를 실행 상태로 바꾸는 작업
- 타임아웃/인터럽트: 타임슬라이스 동안 작업을 끝내지 못해서 다시 준비 상태로 돌아가는 작업
  - 타임 슬라이스/타임 퀀텀: 실행상태에서 프로세스가 작업을 진행하는 일정한 시간
- 대기 상태: 실행 상태의 프로세스가 입출력을 요청하면 입출력이 완료될때까지 기다리는 상태
  - 왜 필요했을까? 해당 프로세스가 입출력을 요구하거나 이벤트를 기다린다면 cpu는 이때 아무 작업도 하지 않게 된다. 따라서 효율성을 높히기 위해 해당 프로세스를 대기 상태로 옮기고 다른 프로세스 작업을 수행한다.
  - 대기상태의 프로세스는 요청한 입출력이 완료되면 입출력 관리자부터 인터럽트를 받고 이로 인해 준비 상태로 간다.

### 휴식 상태와 보류상태

- 프로세스는 일반적으로 위 다섯가지의 상태 생성, 준비, 실행, 대기, 완료 상태를 가지는데 이를 활성 상태 라고 한다. 이외의 또다른 상태가 있는데 휴식상태와 보류상태이다.
- 휴식 상태: 프로세스가 작업을 일시적으로 쉬고 있는 상태. ctrl+z 로 프로세스를 휴식상태로 돌릴 수 있으며 fg/bg로 재시작할 수 있다.
- 보류 상태: 프로세스가 메모리에서 잠시 쫓겨난 상태. 여러 이유로 프로세스가 보류 상태가 되는데, 대부분이 컴퓨터의 성능을 떨어트리거나 실행을 미루어도 큰 지장이 없는 프로세스이다.

### 프로세스 제어 블록 

- PCB process control block 이라고도 불린다.
- 프로세스를 실행하는데 중요한 메타 정보를 보관하는 자료구조.

- 메타데이터는 아래와 같다.
  - 포인터: 준비상태나 대기상태 큐에서 사용되기 위해 존재하는 포인터
  - 프로세스 상태
  - PID: 여러 프로세스를 구분하기 위해 존재하는 고유 ID
  - 프로그램 카운터: 다음에 실행될 명령어 위치를 가리키는 프로그램 카운터 값을 저장
  - 프로세스 우선순위: 중요도에 따른 프로세스들의 우선순위
  - 각종 레지스터 정보: 프로세스가 실행되는 중에 사용했던 레지스터 정보 (계산된 중간값을 기억하기 위해)
  - 메모리 관리 정보: 프로세스가 위치한 메모리 정보
  - 할당된 자원 정보: 프로세스를 실행하기 위해 사용되는 자원에 대한 정보
  - 계정 정보: 계정 번호, cpu 할당 시간, cpu 사용 시간..
  - PPID, CPID: 부모 프로세스 구분자와 자식 프로세스 구분자(추후에)



### 문맥교환





