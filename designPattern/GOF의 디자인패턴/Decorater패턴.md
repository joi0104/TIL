## Decorator 패턴

### 동기

- 새로운 서비스의 추가가 필요할 때 이를 해결하는 일반적인 방법은 상속을 이용하는 것이었다.
- 하지만 상속을 이용할 때, 서비스의 추가는 정적일 수 밖에 없고 기존의 구성요소와의 결합도가 높아진다.

### 정의

> Decorator 패턴이란, 지금의 구성요소를 둘러싸고 거기에 새로운 책임을 부여한 객체를 생성하여 **객체에 동적으로 새로운 책임을 추가할 수 있게 하는 패턴**을 말한다.

> 자신이 둘러싼 구성요소로 전달되는 요청을 중간에 가로채서 해당 구성요소에 전달하고 이때 전달과정의 앞뒤에 새로운 책임을 부여할 수 있다.

### 활용성

- 다른 객체에 영향을 주지 않고 개개의 객체에 새로운 책임을 추가할 때.
- 제거될 수 있는 책임을 쉽게 제거하고 싶을 때.
- 실제 상속으로 새로운 책임을 추가하는 방법이 실질적이지 못할 때.

### 구조

![](https://1.bp.blogspot.com/-AJ5kn0Xthrk/XaM0kbhu8WI/AAAAAAAACMs/g0XRAG7o9Hg6NBXKIDBPwmIY3vAJEdPmwCLcBGAsYHQ/s1600/%25EB%258D%25B0%25EC%25BD%2594%25EB%25A0%2588%25EC%259D%25B4%25ED%2584%25B0%25ED%258C%25A8%25ED%2584%25B4.PNG)

- `Component` : 동적으로 추가할 서비스를 가질 가능성이 있는 객체들에 대한 인터페이스
- `ConcreateComponent` : 추가적인 서비스가 실제로 정의되어야 할 필요가 있는 객체
- `Decorator` : Component에 대한 참조자를 관리하면서 Component에 정의된 인터페이스를 정의한 객체
- `ConcreateDecorator` : Component에 새롭게 추가할 서비스를 실제적으로 구현한 객체

### 협력방법

- `Decorator`는 자신의 `Component` 객체 쪽으로 요청을 전달한다. 요청 전달 전 및 후에 자신만의 추가 연산을 선택적으로 수행할 수 있다.

### 결과

- 단순한 상속보다 설계의 융통성을 더 많이 증대시킬 수 있다.
- 클래스 계통의 상부측 클래스에 많은 기능이 누적되는 상황을 피할 수 있다.
- 장식자와 해당 그 장식자의 구성요소가 동일한 것은 아니다.
- 장식자를 사용함으로써 작은 규모의 객체들이 많이 생긴다.
