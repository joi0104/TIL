## Composite 패턴

### 동기

- 개별 객체들을 포함하는 복합 객체가 존재할 때, 해당 개별 객체들의 클래스를 정의하고 이를 포함한 컨테이너로 동작하는 클래스를 정의하는 방식을 일반적으로 사용한다.
- 그러나 그럴경우, 처리 대상이 컨테이너에 해당하는지 개별 객체에 해당하는지 적절한 처리가 구현해야 된다.

### 정의

> Composite 패턴이란, 사용자로 하여금 **개별 객체와 복합 객체를 모두 동일하게 다룰 수 있도록 하는 패턴**이다.

### 활용성

- 부분-전체의 객체 계통을 표현하고 싶을 때.
- 사용자가 객체의 합성으로 생긴 복합 객체와 개개의 객체 사이의 차이를 알지 않고도 자기일을 할 수 있도록 만들고 싶을 때.

### 구조

![](https://scvgoe.github.io/img/composite.jpg)

- `Component` : 집합 관계에 정의될 모든 객체에 대한 인터페이스
- `Leaf` : 개별 객체, 즉 자식이 없는 객체
- `Componsite` : 복합 객체, 자식이 있는 객체

### 협력

- 사용자는 객체 간의 상호작용을 위해 `Component` 클래스의 인터페이스를 사용한다.
- 요청받은 대상이 `Leaf` 이면 자신이 정의한 행동을 직접 수행하고, `Composite` 이면 자식들에게 요첨을 위임한다.

### 결과

- 개별 객체와 복합 객체로 구성된 하나의 일관된 클래스 계통을 정의한다.
- 개별 객체나 복합 객체 모두 동일한 코드로 다루기 때문에 사용자의 코드가 단순해진다.
- 새로운 종류의 구성요소를 쉽게 추가할 수 있다.
- 설계가 지나치게 범용성을 많이 가진다.
